import{r as S,a as B,o as ie,c as q,w as le,b as de,n as ue,d as P,e,f as H,g as ee,t as p,u as h,h as K,v as ve,F as te,i as se,j as W,k as ae,l as he,m as oe,p as _,q as fe}from"./vendor-DiGE_4UQ.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))y(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const g of r.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&y(g)}).observe(document,{childList:!0,subtree:!0});function c(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function y(t){if(t.ep)return;t.ep=!0;const r=c(t);fetch(t.href,r)}})();function ge(){const f=S(!1),i=S(!1),c=S(!1),y=S(null),t=B({x:0,y:0,width:0,height:0,confidence:0,headPose:{yaw:0,pitch:0,roll:0}}),r=S(null),g=S(null),b=S(null),C=B({targetFPS:30,smoothingFactor:.3,confidenceThreshold:.3,debugMode:!0}),m=B({fps:0,frameCount:0,lastUpdate:Date.now()});let F=null,$=null,Z=0;const N=async()=>{try{if(console.log("ğŸš€ ãƒ–ãƒ©ã‚¦ã‚¶ãƒã‚¤ãƒ†ã‚£ãƒ–é¡”æ¤œå‡ºåˆæœŸåŒ–é–‹å§‹"),!("FaceDetector"in window)){console.log("âš ï¸ ãƒ–ãƒ©ã‚¦ã‚¶ãƒã‚¤ãƒ†ã‚£ãƒ–FaceDetectorãŒåˆ©ç”¨ã§ãã¾ã›ã‚“"),await L();return}F=new FaceDetector({maxDetectedFaces:1,fastMode:!0}),console.log("âœ… ãƒ–ãƒ©ã‚¦ã‚¶ãƒã‚¤ãƒ†ã‚£ãƒ–é¡”æ¤œå‡ºåˆæœŸåŒ–å®Œäº†"),f.value=!0}catch(a){console.error("âŒ ãƒã‚¤ãƒ†ã‚£ãƒ–é¡”æ¤œå‡ºåˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼:",a),await L()}},L=async()=>{console.log("ğŸ”„ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯é¡”æ¤œå‡ºã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ä¸­...");try{await A(),console.log("âœ… ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯é¡”æ¤œå‡ºåˆæœŸåŒ–å®Œäº†"),f.value=!0}catch(a){console.error("âŒ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯åˆæœŸåŒ–å¤±æ•—:",a),y.value="é¡”æ¤œå‡ºã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–ã«å¤±æ•—ã—ã¾ã—ãŸ"}},A=async()=>{console.log("ğŸ¯ ã‚·ãƒ³ãƒ—ãƒ«é¡”æ¤œå‡ºã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–"),f.value=!0},E=async(a={})=>{try{const o=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,max:1280},height:{ideal:480,max:720},frameRate:{ideal:30},facingMode:"user",...a}});return r.value&&(r.value.srcObject=o,await r.value.play(),console.log("ğŸ“¹ ã‚«ãƒ¡ãƒ©ã‚¹ãƒˆãƒªãƒ¼ãƒ é–‹å§‹:",{width:r.value.videoWidth,height:r.value.videoHeight})),o}catch(o){throw console.error("âŒ ã‚«ãƒ¡ãƒ©ã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼:",o),y.value=`ã‚«ãƒ¡ãƒ©ã‚¢ã‚¯ã‚»ã‚¹å¤±æ•—: ${o.message}`,o}},O=async(a,o)=>{try{r.value=a,g.value=o,o&&(b.value=o.getContext("2d")),f.value||await N(),await E(),X(),i.value=!0,console.log("âœ… ã‚·ãƒ³ãƒ—ãƒ«è¦–ç·šè¿½è·¡é–‹å§‹")}catch(v){console.error("âŒ è¿½è·¡é–‹å§‹ã‚¨ãƒ©ãƒ¼:",v),y.value=`è¿½è·¡é–‹å§‹å¤±æ•—: ${v.message}`}},X=()=>{const a=async o=>{if(i.value){if(o-Z<1e3/C.targetFPS){$=requestAnimationFrame(a);return}Z=o;try{await G(),D()}catch(v){console.error("ãƒ•ãƒ¬ãƒ¼ãƒ å‡¦ç†ã‚¨ãƒ©ãƒ¼:",v)}$=requestAnimationFrame(a)}};$=requestAnimationFrame(a)},G=async()=>{if(!r.value||!g.value)return;const a=r.value,o=g.value,v=b.value;if(o.width=a.videoWidth,o.height=a.videoHeight,v.drawImage(a,0,0,o.width,o.height),F)try{const T=await F.detect(o);U(T)}catch{V(v,o)}else V(v,o)},U=a=>{if(a&&a.length>0){const o=a[0];c.value=!0;const v=o.boundingBox;t.x=v.x+v.width/2,t.y=v.y+v.height/2,t.width=v.width,t.height=v.height,t.confidence=o.confidence||.8,n(v),C.debugMode&&s(v)}else c.value=!1,l()},V=(a,o)=>{const T=a.getImageData(0,0,o.width,o.height).data;let M=0,k=0,Y=0,z=0;for(let x=0;x<T.length;x+=4){const j=T[x],J=T[x+1],Q=T[x+2];if(R(j,J,Q)){const ne=x/4,re=ne%o.width,ce=Math.floor(ne/o.width);Y+=re,z+=ce,M++}k++}M>k*.05?(c.value=!0,t.x=Y/M,t.y=z/M,t.width=Math.sqrt(M)*2,t.height=Math.sqrt(M)*2.5,t.confidence=Math.min(M/(k*.1),1),n({x:t.x-t.width/2,y:t.y-t.height/2,width:t.width,height:t.height})):(c.value=!1,l())},R=(a,o,v)=>{const T=a>95&&o>40&&v>20&&a>o&&a>v&&Math.abs(a-o)>15&&a-v>15,M=a>80&&o>50&&v>30&&a>v&&o>v&&Math.abs(a-o)<30,k=Math.max(a,o,v),Y=Math.min(a,o,v),z=k-Y;let x=0;z>0&&(k===a?x=(o-v)/z%6:k===o?x=(v-a)/z+2:x=(a-o)/z+4,x*=60);const j=k===0?0:z/k,J=k/255,Q=(x>=0&&x<=30||x>=330&&x<=360)&&j>=.2&&j<=.7&&J>=.4&&J<=.95;return T||M||Q},n=a=>{const o=g.value;if(!o)return;const v=a.x+a.width/2,T=a.y+a.height/2,M=o.width/2,k=o.height/2,Y=(v-M)/(M*.6),z=(T-k)/(k*.6),x=Math.max(-1,Math.min(1,Y)),j=Math.max(-1,Math.min(1,z));t.headPose.yaw=x*45,t.headPose.pitch=j*35,t.headPose.roll=0,w(),C.debugMode&&Date.now()%1e3<50&&console.log(`é ­éƒ¨å§¿å‹¢: Yaw=${Math.round(t.headPose.yaw)}Â°, Pitch=${Math.round(t.headPose.pitch)}Â°`)};let d={yaw:0,pitch:0,roll:0};const w=()=>{const a=C.smoothingFactor;t.headPose.yaw=u(d.yaw,t.headPose.yaw,a),t.headPose.pitch=u(d.pitch,t.headPose.pitch,a),t.headPose.roll=u(d.roll,t.headPose.roll,a),d={...t.headPose}},u=(a,o,v)=>a+(o-a)*v,s=a=>{const o=b.value;o&&(o.strokeStyle="#00ff00",o.lineWidth=2,o.strokeRect(a.x,a.y,a.width,a.height),o.fillStyle="#ff0000",o.beginPath(),o.arc(t.x,t.y,5,0,2*Math.PI),o.fill(),o.fillStyle="#00ff00",o.font="16px Arial",o.fillText(`ä¿¡é ¼åº¦: ${Math.round(t.confidence*100)}%`,10,30),o.fillText(`FPS: ${m.fps}`,10,50),o.fillText(`Yaw: ${Math.round(t.headPose.yaw)}Â°`,10,70),o.fillText(`Pitch: ${Math.round(t.headPose.pitch)}Â°`,10,90))},l=()=>{t.x=0,t.y=0,t.width=0,t.height=0,t.confidence=0,t.headPose={yaw:0,pitch:0,roll:0}},D=()=>{m.frameCount++;const a=Date.now();a-m.lastUpdate>=1e3&&(m.fps=Math.round(m.frameCount*1e3/(a-m.lastUpdate)),m.frameCount=0,m.lastUpdate=a)},I=()=>{i.value=!1,$&&(cancelAnimationFrame($),$=null),r.value&&r.value.srcObject&&(r.value.srcObject.getTracks().forEach(o=>o.stop()),r.value.srcObject=null),l(),console.log("â¹ï¸ ã‚·ãƒ³ãƒ—ãƒ«è¦–ç·šè¿½è·¡åœæ­¢")};return ie(()=>{I()}),{isInitialized:f,isTracking:i,faceDetected:c,error:y,faceData:t,settings:C,stats:m,initializeFaceDetection:N,startTracking:O,stopTracking:I,startCamera:E}}function me(f){const i=S(null),c=S(!1),y=S(null),t=S(0),r=B({gridSize:3,dwellTime:1e3,confidenceThreshold:.4,stabilityThreshold:200,smoothing:!0,visualFeedback:!0}),g=q(()=>{const n=r.gridSize,d=r.gridSize,w=100/n,u=100/d,s=[];for(let l=0;l<d;l++)for(let D=0;D<n;D++){const I=l*n+D,a=b(l,D);s.push({id:I,name:a,row:l,col:D,x:D*w,y:l*u,width:w,height:u,centerX:D*w+w/2,centerY:l*u+u/2,active:!1,hovered:!1,dwellStart:null})}return s}),b=(n,d)=>{const w=["ä¸Š","ä¸­","ä¸‹"],u=["å·¦","ä¸­å¤®","å³"];return n===1&&d===1?"ä¸­å¤®":`${w[n]}${u[d]}`},C=B([]),m=B({totalSelections:0,avgSelectionTime:0,accuracyRate:0,zoneHitCounts:{}}),F=()=>{if(!f||!f.faceDetected.value)return null;const n=f.faceData;if(n.confidence<r.confidenceThreshold)return null;const{yaw:d,pitch:w}=n.headPose;let u=1;d<-8?u=2:d>8&&(u=0);let s=1;w<-6?s=0:w>6&&(s=2);const l=s*r.gridSize+u;return Date.now()%2e3<50&&console.log(`ğŸ¯ ã‚¾ãƒ¼ãƒ³æ¤œå‡º: Yaw=${Math.round(d)}Â°, Pitch=${Math.round(w)}Â°, TargetZone=${l}`),g.value.find(D=>D.id===l)},$=()=>{var d;const n=F();(n==null?void 0:n.id)!==((d=i.value)==null?void 0:d.id)&&(E(),i.value=n,n&&Z(n)),i.value&&c.value&&N()},Z=n=>{n&&(c.value=!0,n.dwellStart=Date.now(),n.hovered=!0,g.value.forEach(d=>{d.id!==n.id&&(d.hovered=!1,d.dwellStart=null)}),console.log(`ğŸ¯ ã‚¾ãƒ¼ãƒ³é¸æŠé–‹å§‹: ${n.name}`))},N=()=>{if(!i.value||!i.value.dwellStart)return;const n=Date.now()-i.value.dwellStart,d=Math.min(n/r.dwellTime,1);t.value=d,d>=1&&L(i.value)},L=n=>{n&&(y.value=n,n.active=!0,C.push({zoneId:n.id,zoneName:n.name,timestamp:Date.now(),dwellTime:Date.now()-n.dwellStart}),X(n),console.log(`âœ… ã‚¾ãƒ¼ãƒ³é¸æŠå®Œäº†: ${n.name}`),A(n),setTimeout(()=>{O()},500))},A=n=>{if(r.visualFeedback&&(n.active=!0,setTimeout(()=>{n.active=!1},300)),"speechSynthesis"in window){const d=new SpeechSynthesisUtterance(n.name);d.lang="ja-JP",d.rate=1.2,d.volume=.5,speechSynthesis.speak(d)}"vibrate"in navigator&&navigator.vibrate(100)},E=()=>{c.value=!1,t.value=0,g.value.forEach(n=>{n.hovered=!1,n.dwellStart=null})},O=()=>{y.value=null,E(),g.value.forEach(n=>{n.active=!1})},X=n=>{m.totalSelections++,m.zoneHitCounts[n.id]||(m.zoneHitCounts[n.id]=0),m.zoneHitCounts[n.id]++;const d=Date.now()-n.dwellStart;m.avgSelectionTime=(m.avgSelectionTime*(m.totalSelections-1)+d)/m.totalSelections},G=n=>{Object.assign(r,n),console.log("âš™ï¸ ã‚¾ãƒ¼ãƒ³è¨­å®šæ›´æ–°:",r)},U=n=>g.value.find(d=>d.id===n),V=(n,d)=>g.value.find(w=>n>=w.x&&n<w.x+w.width&&d>=w.y&&d<w.y+w.height),R=()=>({currentZone:i.value,isSelecting:c.value,dwellProgress:t.value,faceData:f==null?void 0:f.faceData,zones:g.value,stats:m,history:C.slice(-10)});return le(()=>f==null?void 0:f.faceDetected.value,n=>{n||E()}),{currentZone:i,isSelecting:c,selectedZone:y,dwellProgress:t,zones:g,zoneConfig:r,selectionHistory:C,stats:m,processZoneSelection:$,resetSelection:O,updateConfig:G,getZoneById:U,getZoneByCoordinates:V,getDebugInfo:R,detectTargetZone:F,startDwellTimer:Z,completeZoneSelection:L}}const pe=(f,i)=>{const c=f.__vccOpts||f;for(const[y,t]of i)c[y]=t;return c},we={class:"eye-gaze-aac-app"},ye={class:"app-header"},De={class:"status-bar"},Se={key:0,class:"face-info"},xe={class:"app-main"},Pe={class:"control-panel"},_e={class:"section"},be=["disabled"],ke=["value"],Ce=["disabled"],Me={key:0,class:"section"},Te={key:1,class:"section"},Fe={class:"pose-display"},$e={class:"pose-item"},ze={class:"pose-item"},Ae={class:"pose-visual"},Ie={class:"gaze-interface"},Ee={class:"zone-grid"},He={class:"zone-content"},Ze={class:"zone-name"},Le={class:"zone-number"},Ue={key:0,class:"dwell-circle"},Ne={width:"60",height:"60",class:"progress-ring"},Oe=["stroke-dashoffset"],Ve={class:"progress-text"},Ye={key:1,class:"selection-display"},je={class:"selected-info"},qe={class:"zone-name-large"},Be={class:"selection-time"},Xe={key:2,class:"usage-guide"},Ge={class:"history-panel"},Re={class:"section"},We={class:"history-list"},Je={class:"history-zone"},Ke={class:"history-time"},Qe={class:"section"},et={class:"stats-grid"},tt={class:"stat-item"},st={class:"stat-value"},ot={class:"stat-item"},nt={class:"stat-value"},at={class:"stat-item"},it={class:"stat-value"},lt={class:"camera-controls"},rt={key:0,class:"error-overlay"},ct={class:"error-content"},dt={__name:"App-EyeGaze",setup(f){const i=ge(),c=me(i),y=S(!0),t=S(!0),r=S(null),g=S([]),b=S(null),C=S(null),m=S(null),F=q(()=>{if(!i.faceDetected.value)return null;const u=i.faceData.headPose,s=i.faceData.confidence;if(s<.3)return null;const l=window.innerWidth,D=window.innerHeight,I=l/2-u.yaw*15,a=D/2-u.pitch*12,o=Math.max(50,Math.min(l-50,I)),v=Math.max(50,Math.min(D-50,a));return{x:o,y:v,confidence:s,headPose:{...u}}}),$=q(()=>r.value?"status-error":i.isInitialized.value?i.isTracking.value?i.faceDetected.value?"status-tracking":"status-no-face":"status-ready":"status-initializing"),Z=q(()=>r.value?"ã‚¨ãƒ©ãƒ¼":i.isInitialized.value?i.isTracking.value?i.faceDetected.value?"è¦–ç·šè¿½è·¡ä¸­":"é¡”ã‚’æ¤œå‡ºä¸­...":"æº–å‚™å®Œäº†":"åˆæœŸåŒ–ä¸­..."),N=q(()=>{if(c.selectionHistory.length>0){const u=c.selectionHistory[c.selectionHistory.length-1];return new Date(u.timestamp).toLocaleTimeString()}return""}),L=q(()=>c.stats.totalSelections===0?0:Math.round(c.stats.totalSelections/(c.stats.totalSelections+1)*100));let A=null;const E=async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0});const s=(await navigator.mediaDevices.enumerateDevices()).filter(l=>l.kind==="videoinput");g.value=s.map(l=>({deviceId:l.deviceId,label:l.label||`ã‚«ãƒ¡ãƒ© ${g.value.length+1}`,groupId:l.groupId})),g.value.length>0&&!b.value&&(b.value=g.value[0]),console.log("ğŸ“¹ åˆ©ç”¨å¯èƒ½ãªã‚«ãƒ¡ãƒ©:",g.value)}catch(u){r.value=`ã‚«ãƒ¡ãƒ©ã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼: ${u.message}`}},O=async()=>{i.isTracking.value&&await U(),b.value&&console.log("ğŸ“¹ ã‚«ãƒ¡ãƒ©å¤‰æ›´:",b.value.label)},X=async()=>{i.isTracking.value?await U():await G()},G=async()=>{try{if(!b.value){r.value="ã‚«ãƒ¡ãƒ©ã‚’é¸æŠã—ã¦ãã ã•ã„";return}await i.startTracking(C.value,m.value),V(),console.log("âœ… è¦–ç·šè¿½è·¡é–‹å§‹")}catch(u){r.value=`è¿½è·¡é–‹å§‹ã‚¨ãƒ©ãƒ¼: ${u.message}`}},U=async()=>{i.stopTracking(),R(),c.resetSelection(),console.log("â¹ï¸ è¦–ç·šè¿½è·¡åœæ­¢")},V=()=>{const u=()=>{i.isTracking.value&&c.processZoneSelection(),i.isTracking.value&&(A=requestAnimationFrame(u))};A=requestAnimationFrame(u)},R=()=>{A&&(cancelAnimationFrame(A),A=null)},n=()=>{r.value=null},d=async()=>{n(),await i.initializeFaceDetection()},w=u=>new Date(u).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return le(()=>i.error.value,u=>{u&&(r.value=u)}),de(async()=>{console.log("ğŸš€ è¦–ç·šå…¥åŠ›AAC ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹"),await ue(),await E();try{await i.initializeFaceDetection()}catch(u){r.value=`åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼: ${u.message}`}}),ie(()=>{U()}),(u,s)=>(_(),P("div",we,[e("header",ye,[s[7]||(s[7]=e("h1",null,"ğŸ‘ï¸ è¦–ç·šå…¥åŠ›AAC - ã‚·ãƒ³ãƒ—ãƒ«ç¢ºå®Ÿç‰ˆ",-1)),e("div",De,[e("div",{class:ee(["status-indicator",$.value])},p(Z.value),3),h(i).faceDetected.value?(_(),P("div",Se," ä¿¡é ¼åº¦: "+p(Math.round(h(i).faceData.confidence*100))+"% | FPS: "+p(h(i).stats.fps),1)):H("",!0)])]),e("main",xe,[e("aside",Pe,[e("div",_e,[s[9]||(s[9]=e("h3",null,"ğŸ“¹ ã‚«ãƒ¡ãƒ©è¨­å®š",-1)),K(e("select",{"onUpdate:modelValue":s[0]||(s[0]=l=>b.value=l),onChange:O,disabled:h(i).isTracking.value},[s[8]||(s[8]=e("option",{value:""},"ã‚«ãƒ¡ãƒ©ã‚’é¸æŠ...",-1)),(_(!0),P(te,null,se(g.value,l=>(_(),P("option",{key:l.deviceId,value:l},p(l.label),9,ke))),128))],40,be),[[ve,b.value]]),e("button",{onClick:X,disabled:!b.value,class:"primary-btn"},p(h(i).isTracking.value?"â¹ï¸ åœæ­¢":"â–¶ï¸ é–‹å§‹"),9,Ce)]),h(i).isTracking.value?(_(),P("div",Me,[s[11]||(s[11]=e("h3",null,"âš™ï¸ è¦–ç·šè¨­å®š",-1)),e("label",null,[W(" ãƒ‰ã‚¦ã‚§ãƒ«æ™‚é–“: "+p(h(c).zoneConfig.dwellTime)+"ms ",1),K(e("input",{type:"range",min:"800",max:"3000",step:"100","onUpdate:modelValue":s[1]||(s[1]=l=>h(c).zoneConfig.dwellTime=l)},null,512),[[ae,h(c).zoneConfig.dwellTime]])]),e("label",null,[W(" æ„Ÿåº¦: "+p(Math.round(h(i).settings.smoothingFactor*100))+"% ",1),K(e("input",{type:"range",min:"0.3",max:"0.9",step:"0.1","onUpdate:modelValue":s[2]||(s[2]=l=>h(i).settings.smoothingFactor=l)},null,512),[[ae,h(i).settings.smoothingFactor]])]),e("label",null,[K(e("input",{type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=l=>t.value=l)},null,512),[[he,t.value]]),s[10]||(s[10]=W(" è¦–ç·šãƒã‚¤ãƒ³ãƒˆè¡¨ç¤º "))])])):H("",!0),h(i).faceDetected.value?(_(),P("div",Te,[s[14]||(s[14]=e("h3",null,"ğŸ¯ é ­éƒ¨å§¿å‹¢",-1)),e("div",Fe,[e("div",$e,[s[12]||(s[12]=e("strong",null,"å·¦å³:",-1)),W(" "+p(Math.round(h(i).faceData.headPose.yaw))+"Â° ",1)]),e("div",ze,[s[13]||(s[13]=e("strong",null,"ä¸Šä¸‹:",-1)),W(" "+p(Math.round(h(i).faceData.headPose.pitch))+"Â° ",1)]),e("div",Ae,[e("div",{class:"head-indicator",style:oe({transform:`translate(${h(i).faceData.headPose.yaw*2}px, ${h(i).faceData.headPose.pitch*2}px)`})},null,4)])])])):H("",!0)]),e("section",Ie,[t.value&&F.value?(_(),P("div",{key:0,class:"gaze-point",style:oe({left:`${F.value.x}px`,top:`${F.value.y}px`})},null,4)):H("",!0),e("div",Ee,[(_(!0),P(te,null,se(h(c).zones.value,l=>{var D,I;return _(),P("div",{key:l.id,class:ee(["zone-cell",{"zone-gazing":l.id===((D=h(c).currentZone.value)==null?void 0:D.id),"zone-dwelling":l.hovered,"zone-selected":l.id===((I=h(c).selectedZone.value)==null?void 0:I.id)}]),style:oe({left:`${l.x}%`,top:`${l.y}%`,width:`${l.width}%`,height:`${l.height}%`})},[e("div",He,[e("div",Ze,p(l.name),1),e("div",Le,p(l.id+1),1),l.hovered&&h(c).dwellProgress.value>0?(_(),P("div",Ue,[(_(),P("svg",Ne,[e("circle",{cx:"30",cy:"30",r:"25",stroke:"#f39c12","stroke-width":"4",fill:"none","stroke-dasharray":157,"stroke-dashoffset":157-157*h(c).dwellProgress.value/100,class:"progress-circle"},null,8,Oe)])),e("div",Ve,p(Math.round(h(c).dwellProgress.value))+"%",1)])):H("",!0)])],6)}),128))]),h(c).selectedZone.value!==null?(_(),P("div",Ye,[s[15]||(s[15]=e("h2",null,"âœ… é¸æŠã•ã‚ŒãŸã‚¾ãƒ¼ãƒ³",-1)),e("div",je,[e("div",qe,p(h(c).selectedZone.value.name),1),e("div",Be,p(N.value),1),e("button",{onClick:s[4]||(s[4]=l=>h(c).resetSelection()),class:"clear-btn"}," ğŸ—‘ï¸ ã‚¯ãƒªã‚¢ ")])])):H("",!0),h(i).isTracking.value?H("",!0):(_(),P("div",Xe,[s[19]||(s[19]=e("h3",null,"ğŸ’¡ è¦–ç·šå…¥åŠ›ã®ä½¿ã„æ–¹",-1)),e("ol",null,[s[16]||(s[16]=e("li",null,"ğŸ“¹ ä¸Šã®ãƒ‘ãƒãƒ«ã§ã‚«ãƒ¡ãƒ©ã‚’é¸æŠ",-1)),s[17]||(s[17]=e("li",null,"â–¶ï¸ ã€Œé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯",-1)),s[18]||(s[18]=e("li",null,"ğŸ‘ï¸ é¸æŠã—ãŸã„ã‚¾ãƒ¼ãƒ³ã‚’è¦‹ã¤ã‚ã‚‹",-1)),e("li",null,"â° "+p(Math.round(h(c).zoneConfig.dwellTime/1e3*10)/10)+"ç§’é–“è¦‹ç¶šã‘ã‚‹ã¨é¸æŠ",1)])]))]),e("aside",Ge,[e("div",Re,[s[20]||(s[20]=e("h3",null,"ğŸ“Š é¸æŠå±¥æ­´",-1)),e("div",We,[(_(!0),P(te,null,se(h(c).selectionHistory.slice(-8),(l,D)=>(_(),P("div",{key:D,class:"history-item"},[e("div",Je,p(l.zoneName),1),e("div",Ke,p(w(l.timestamp)),1)]))),128))])]),e("div",Qe,[s[24]||(s[24]=e("h3",null,"ğŸ“ˆ çµ±è¨ˆæƒ…å ±",-1)),e("div",et,[e("div",tt,[e("div",st,p(h(c).stats.totalSelections),1),s[21]||(s[21]=e("div",{class:"stat-label"},"ç·é¸æŠæ•°",-1))]),e("div",ot,[e("div",nt,p(Math.round(h(c).stats.avgSelectionTime))+"ms",1),s[22]||(s[22]=e("div",{class:"stat-label"},"å¹³å‡æ™‚é–“",-1))]),e("div",at,[e("div",it,p(L.value)+"%",1),s[23]||(s[23]=e("div",{class:"stat-label"},"ç²¾åº¦",-1))])])])])]),e("div",{class:ee(["camera-view",{"camera-minimized":!y.value}])},[e("video",{ref_key:"videoElement",ref:C,autoplay:"",muted:"",playsinline:"",class:"camera-video"},null,512),e("canvas",{ref_key:"canvasElement",ref:m,class:"camera-canvas",width:"640",height:"480"},null,512),e("div",lt,[e("button",{onClick:s[5]||(s[5]=l=>y.value=!y.value),class:"icon-btn"},p(y.value?"ğŸ™ˆ":"ğŸ‘ï¸"),1),e("button",{onClick:s[6]||(s[6]=l=>h(i).settings.debugMode=!h(i).settings.debugMode),class:"icon-btn"}," ğŸ”§ ")])],2),r.value?(_(),P("div",rt,[e("div",ct,[s[25]||(s[25]=e("h3",null,"âš ï¸ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",-1)),e("p",null,p(r.value),1),e("div",{class:"error-actions"},[e("button",{onClick:n,class:"btn secondary"},"é–‰ã˜ã‚‹"),e("button",{onClick:d,class:"btn primary"},"å†è©¦è¡Œ")])])])):H("",!0)]))}},ut=pe(dt,[["__scopeId","data-v-a73b307c"]]);window.addEventListener("error",f=>{console.error("ğŸš¨ Global Error:",f.error),console.error("File:",f.filename,"Line:",f.lineno)});window.addEventListener("unhandledrejection",f=>{console.error("ğŸš¨ Unhandled Promise Rejection:",f.reason)});console.log("ğŸš€ Vue3 AAC ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹");console.log("ğŸŒ Environment:",{production:!0,base:"/eye-tracking-aac/",mode:"production"});try{const f=fe(ut);f.config.errorHandler=(i,c,y)=>{console.error("ğŸš¨ Vue Error:",i),console.error("Info:",y),console.error("Component:",c)},console.log("ğŸ“± Vue ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¦ãƒ³ãƒˆä¸­..."),f.mount("#app"),console.log("âœ… Vue ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¦ãƒ³ãƒˆå®Œäº†")}catch(f){console.error("âŒ Vue ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•ã‚¨ãƒ©ãƒ¼:",f),document.getElementById("app").innerHTML=`
    <div style="padding: 20px; text-align: center; font-family: Arial, sans-serif;">
      <h1>ğŸš¨ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</h1>
      <p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</p>
      <p>ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼ˆF12ï¼‰ã§ã‚¨ãƒ©ãƒ¼è©³ç´°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
      <button onclick="window.location.reload()" style="padding: 10px 20px; margin: 10px; background: #e74c3c; color: white; border: none; border-radius: 5px;">
        å†èª­ã¿è¾¼ã¿
      </button>
    </div>
  `}
//# sourceMappingURL=index-C_aYweq7.js.map
