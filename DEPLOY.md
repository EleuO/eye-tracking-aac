# 🚀 Vue3版 視線追跡AAC - デプロイガイド

## 📋 現在の状況

✅ **完了した修正**
- カメラ選択機能の追加
- 視線データ処理の詳細デバッグ
- WebGazer初期化の改善
- モニターサイズ認識の強化
- GitHub Pagesデプロイ準備

## 🌐 GitHub Pagesデプロイ

### 自動デプロイ（推奨）
1. このリポジトリをGitHubにプッシュ
2. GitHub ActionsでのCI/CDが自動実行
3. デプロイ完了後にアクセス

### 手動デプロイ
```bash
# ビルド
npm run build:github

# デプロイ（要git設定）
npm run deploy
```

## 🔧 デバッグ用の改善

### 1. カメラ選択の修正
- カメラストリーム取得の確実化
- WebGazer設定との同期改善
- エラーハンドリングの強化

### 2. 視線データ分析
```javascript
// コンソールで確認できる情報:
👁️ 視線データ統計 (5秒間): {
  samples: 150,
  xRange: "300 - 1200 (幅: 900)",
  yRange: "200 - 800 (幅: 600)",
  screen: "1920x1080 (物理: 1920x1080)"
}
```

### 3. WebGazer詳細情報
```javascript
// 初期化時のログ:
📺 画面情報: {
  windowWidth: 1920,
  windowHeight: 1080,
  devicePixelRatio: 1
}
🔍 WebGazer内部情報: {
  isReady: true,
  regression: "ridge",
  tracker: "clmtrackr"
}
```

## 🎯 テスト手順

### 1. ローカルテスト
```bash
npm run dev:stable
# http://localhost:3001/ でアクセス
```

### 2. GitHub Pagesテスト
- GitHubリポジトリの「Pages」設定でGitHub Actionsを有効化
- mainブランチにプッシュで自動デプロイ
- `https://[username].github.io/eye-tracking-aac/` でアクセス

### 3. 視線追跡テスト
1. **カメラ選択**: ドロップダウンでカメラ選択
2. **視線確認**: 青い丸が動くか確認
3. **コンソール確認**: F12で詳細ログを確認
4. **キャリブレーション**: 🎯ボタンでテスト

## 🐛 トラブルシューティング

### カメラボタンが押せない場合
- コンソールで「カメラ選択完了」ログを確認
- `isCameraActive`状態をチェック
- ブラウザでカメラ許可を確認

### 視線ポイントが動かない場合
- コンソールで「視線データ受信」ログを確認
- 視線データ統計の範囲をチェック
- WebGazer初期化ログを確認

### 精度が悪い場合（左右のみ）
- 5秒間の統計ログで実際の範囲を確認
- カメラの位置と照明を調整
- キャリブレーションを複数回実行

## 💡 既知の問題と対策

1. **視線範囲が狭い** → コンソール統計で実際の範囲を確認
2. **上下の動きが少ない** → カメラ角度と座る位置を調整
3. **キャリブレーション進まない** → 詳細ログでデータ受信を確認

## 📊 コスト削減

- GitHub Pages: **無料** 
- CDN (WebGazer): **無料**
- ホスティング: **無料**
- ドメイン: GitHub提供ドメイン使用で**無料**

**総額: ￥0**