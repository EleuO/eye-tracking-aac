# ğŸ¯ WebGazer.js â†’ MediaPipe Migration Plan

## æ ¹æœ¬çš„å•é¡Œã®èªè­˜

WebGazer.jsã¯AACç”¨é€”ã«ã¯ä»¥ä¸‹ã®è‡´å‘½çš„é™ç•ŒãŒã‚ã‚Šã¾ã™ï¼š

### WebGazer.jsã®é™ç•Œ
- **å­¦è¡“ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—**: å•†ç”¨AACç”¨é€”ã®è¨­è¨ˆã§ã¯ãªã„
- **ç²¾åº¦ä¸è¶³**: ç”»é¢ã®è±¡é™ãƒ¬ãƒ™ãƒ«ï¼ˆÂ±100-200pxï¼‰ã—ã‹æ¤œå‡ºã§ããªã„
- **ã‚«ãƒ¡ãƒ©åˆ‡ã‚Šæ›¿ãˆéå¯¾å¿œ**: è¨­è¨ˆã«å«ã¾ã‚Œã¦ã„ãªã„
- **ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸å®‰å®š**: é ­éƒ¨ç§»å‹•ã§å³åº§ã«ç ´ç¶»
- **ç’°å¢ƒä¾å­˜**: ç…§æ˜ãƒ»è·é›¢ã«éåº¦ã«æ•æ„Ÿ

### AACè¦ä»¶ã¨ã®æ¯”è¼ƒ
| è¦ä»¶ | AACå¿…è¦å€¤ | WebGazerå®Ÿç¸¾ | åˆ¤å®š |
|------|-----------|--------------|------|
| ç²¾åº¦ | Â±25px | Â±100-200px | âŒ |
| ä¿¡é ¼æ€§ | 99.5% | ç’°å¢ƒä¾å­˜ | âŒ |
| ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | 30ç§’ä»¥ä¸‹ | 2-5åˆ† | âŒ |
| ã‚«ãƒ¡ãƒ©åˆ‡ã‚Šæ›¿ãˆ | å¿…é ˆ | éå¯¾å¿œ | âŒ |

## ğŸš€ æ®µéšçš„ç§»è¡Œè¨ˆç”»

### æ®µéš1: åŸºç›¤ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…ï¼ˆå³åº§ - 1é€±é–“ï¼‰
**MediaPipe Face Detection + 9ã‚¾ãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ **

#### æŠ€è¡“ä»•æ§˜
```javascript
// æ–°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
class MediaPipeFaceTracker {
  constructor() {
    this.faceDetector = new MediaPipe.FaceDetector()
    this.zones = this.createScreenZones(3, 3) // 3x3ã‚°ãƒªãƒƒãƒ‰
    this.dwellTime = 1500 // ms
    this.confidenceThreshold = 0.8
  }
  
  async detectFaceOrientation() {
    const faces = await this.faceDetector.detect(videoElement)
    if (faces.length === 0) return null
    
    const headPose = this.calculateHeadPose(faces[0])
    return this.mapToScreenZone(headPose)
  }
}
```

#### åˆ©ç‚¹
- âœ… **90%ä»¥ä¸Šç²¾åº¦** - WebGazerã®3å€æ”¹å–„
- âœ… **ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚«ãƒ¡ãƒ©åˆ‡ã‚Šæ›¿ãˆå¯¾å¿œ**
- âœ… **30ç§’ä»¥ä¸‹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—** - ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸è¦
- âœ… **ç’°å¢ƒè€æ€§** - ç…§æ˜ãƒ»è·é›¢å¤‰åŒ–ã«å¼·ã„
- âœ… **è»½é‡** - 3MB vs WebGazerã®15MB

#### å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«
- `src/composables/useMediaPipeFaceTracker.js`
- `src/composables/useZoneBasedAAC.js`
- `src/components/ZoneSelector.vue`

### æ®µéš2: ç²¾åº¦å‘ä¸Šï¼ˆ2-3é€±é–“ï¼‰
**MediaPipe Irisè¿½è·¡çµ±åˆ**

#### æŠ€è¡“ä»•æ§˜
```javascript
class HybridEyeTracker {
  constructor() {
    this.faceTracker = new MediaPipeFaceTracker()
    this.irisTracker = new MediaPipeIrisTracker()
    this.adaptiveUI = new AdaptiveInterface()
  }
  
  async detectGaze() {
    const trackingQuality = await this.assessTrackingQuality()
    
    if (trackingQuality > 0.8) {
      return await this.irisTracker.getPreciseGaze() // Â±25pxç²¾åº¦
    } else if (trackingQuality > 0.5) {
      return await this.faceTracker.getZoneGaze() // Â±50pxç²¾åº¦
    } else {
      return await this.getFallbackInteraction() // ã‚¯ãƒªãƒƒã‚¯/ã‚¿ãƒƒãƒ
    }
  }
}
```

#### åˆ©ç‚¹
- âœ… **ã‚¢ãƒ€ãƒ—ãƒ†ã‚£ãƒ–ç²¾åº¦** - ç’°å¢ƒã«å¿œã˜ã¦æœ€é©åŒ–
- âœ… **ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ¬ãƒ¼ãƒ‰** - æ®µéšçš„ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- âœ… **ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠ** - ç²¾åº¦ vs å®‰å®šæ€§ã®ãƒãƒ©ãƒ³ã‚¹èª¿æ•´

### æ®µéš3: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰åŒ–ï¼ˆ1-2ãƒ¶æœˆï¼‰
**éŸ³å£° + è¦–ç·šçµ±åˆã‚·ã‚¹ãƒ†ãƒ **

#### æŠ€è¡“ä»•æ§˜
```javascript
class VoiceEyeHybridAAC {
  constructor() {
    this.voiceRecognition = new SpeechRecognition()
    this.eyeTracker = new HybridEyeTracker()
    this.intentResolver = new IntentResolver()
  }
  
  async processMultiModalInput() {
    const [voiceData, gazeData] = await Promise.all([
      this.voiceRecognition.listen(),
      this.eyeTracker.detectGaze()
    ])
    
    return this.intentResolver.combine(voiceData, gazeData)
  }
}
```

#### åˆ©ç‚¹
- âœ… **å®Œå…¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯** - ç‰‡æ–¹ãŒå¤±æ•—ã—ã¦ã‚‚å‹•ä½œ
- âœ… **é«˜é€Ÿå…¥åŠ›** - éŸ³å£°ã§å¤§ã‚«ãƒ†ã‚´ãƒªã€è¦–ç·šã§è©³ç´°
- âœ… **ç–²åŠ´è»½æ¸›** - æœ€é©ãªå…¥åŠ›æ–¹æ³•ã‚’è‡ªå‹•é¸æŠ

## ğŸ”§ å®Ÿè£…å„ªå…ˆé †ä½

### High Priority (å³åº§å®Ÿè£…)
1. **MediaPipe Face Detectionå°å…¥**
2. **9ã‚¾ãƒ¼ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®Ÿè£…**
3. **WebGazer.jså®Œå…¨é™¤å»**
4. **ã‚«ãƒ¡ãƒ©åˆ‡ã‚Šæ›¿ãˆå®‰å®šåŒ–**

### Medium Priority (2-4é€±é–“)
1. **Irisè¿½è·¡çµ±åˆ**
2. **ã‚¢ãƒ€ãƒ—ãƒ†ã‚£ãƒ–UIå®Ÿè£…**
3. **è¨­å®šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½**

### Low Priority (1-3ãƒ¶æœˆ)
1. **éŸ³å£°çµ±åˆ**
2. **æ©Ÿæ¢°å­¦ç¿’æœ€é©åŒ–**
3. **ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼å¯¾å¿œ**

## ğŸ“Š æˆåŠŸæŒ‡æ¨™

### æŠ€è¡“æŒ‡æ¨™
- **ç²¾åº¦**: Â±25pxä»¥å†…ã§95%æˆåŠŸç‡
- **å¿œç­”æ€§**: <100mså¿œç­”æ™‚é–“  
- **ä¿¡é ¼æ€§**: 99.5%ç¨¼åƒç‡
- **ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ™‚é–“**: <30ç§’

### UXæŒ‡æ¨™
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦**: 8/10ä»¥ä¸Š
- **ç–²åŠ´åº¦**: ç¾è¡Œã®50%å‰Šæ¸›
- **ã‚¨ãƒ©ãƒ¼ç‡**: <5%
- **å­¦ç¿’æ™‚é–“**: <5åˆ†

## ğŸš¨ ãƒªã‚¹ã‚¯ç®¡ç†

### æŠ€è¡“ãƒªã‚¹ã‚¯
1. **MediaPipeäº’æ›æ€§** â†’ ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–ã‚¨ãƒ³ãƒãƒ³ã‚¹ãƒ¡ãƒ³ãƒˆã§å¯¾å¿œ
2. **ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œ** â†’ ãƒãƒªãƒ•ã‚£ãƒ«ãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè£…
3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** â†’ Web Workersä½¿ç”¨

### UXãƒªã‚¹ã‚¯  
1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼é©å¿œ** â†’ æ®µéšçš„ç§»è¡Œãƒ»ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰
2. **æ—¢å­˜ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼** â†’ è¨­å®šç§»è¡Œãƒ„ãƒ¼ãƒ«
3. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£** â†’ WCAGæº–æ‹ ç¢ºä¿

## ğŸ“… å®Ÿè£…ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

### Week 1: åŸºç›¤
- [ ] MediaPipeå°å…¥
- [ ] 9ã‚¾ãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
- [ ] åŸºæœ¬ã‚«ãƒ¡ãƒ©ç®¡ç†

### Week 2-3: çµ±åˆ
- [ ] WebGazer.jsé™¤å»
- [ ] UIçµ±åˆ
- [ ] ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°

### Week 4-6: ç²¾åº¦å‘ä¸Š
- [ ] Irisè¿½è·¡çµ±åˆ
- [ ] ã‚¢ãƒ€ãƒ—ãƒ†ã‚£ãƒ–ã‚·ã‚¹ãƒ†ãƒ 
- [ ] æ€§èƒ½æœ€é©åŒ–

### Month 2-3: æ‹¡å¼µ
- [ ] éŸ³å£°çµ±åˆ
- [ ] ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½
- [ ] åˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

## çµè«–

WebGazer.jsã‹ã‚‰MediaPipeãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ ã¸ã®ç§»è¡Œã¯ã€AACç”¨é€”ã«ãŠã„ã¦**æ ¹æœ¬çš„ãªæ”¹å–„**ã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚æ®µéšçš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«ã‚ˆã‚Šã€**ãƒªã‚¹ã‚¯ã‚’æœ€å°åŒ–**ã—ãªãŒã‚‰**å¤§å¹…ãªæ€§èƒ½å‘ä¸Š**ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚