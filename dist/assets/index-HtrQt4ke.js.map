{"version":3,"file":"index-HtrQt4ke.js","sources":["../../src/composables/useSimpleFaceTracker.js","../../src/composables/useZoneBasedAAC.js","../../src/App-EyeGaze.vue","../../src/main.js"],"sourcesContent":["import { ref, reactive, onMounted, onUnmounted } from 'vue'\n\n/**\n * シンプル顔検出ベース視線追跡システム\n * MediaPipeの複雑な初期化を回避し、ブラウザネイティブAPIを活用\n */\nexport function useSimpleFaceTracker() {\n  // 状態管理\n  const isInitialized = ref(false)\n  const isTracking = ref(false)\n  const faceDetected = ref(false)\n  const error = ref(null)\n  \n  // 顔検出データ\n  const faceData = reactive({\n    x: 0,           // 顔中心X座標\n    y: 0,           // 顔中心Y座標\n    width: 0,       // 顔の幅\n    height: 0,      // 顔の高さ\n    confidence: 0,  // 検出信頼度\n    headPose: {     // 頭部姿勢推定\n      yaw: 0,       // 左右回転 (-45° to +45°)\n      pitch: 0,     // 上下回転 (-30° to +30°)\n      roll: 0       // 傾き\n    }\n  })\n  \n  // カメラ要素\n  const videoElement = ref(null)\n  const canvasElement = ref(null)\n  const canvasCtx = ref(null)\n  \n  // 設定\n  const settings = reactive({\n    targetFPS: 30,\n    smoothingFactor: 0.7,\n    confidenceThreshold: 0.5,\n    debugMode: true\n  })\n  \n  // パフォーマンス統計\n  const stats = reactive({\n    fps: 0,\n    frameCount: 0,\n    lastUpdate: Date.now()\n  })\n  \n  // Face Detection API\n  let faceDetector = null\n  let animationFrame = null\n  let lastFrameTime = 0\n  \n  /**\n   * ブラウザネイティブFace Detection初期化\n   */\n  const initializeFaceDetection = async () => {\n    try {\n      console.log('🚀 ブラウザネイティブ顔検出初期化開始')\n      \n      // ブラウザ対応チェック\n      if (!('FaceDetector' in window)) {\n        console.log('⚠️ ブラウザネイティブFaceDetectorが利用できません')\n        await initializeFallbackDetection()\n        return\n      }\n      \n      // Face Detector初期化\n      faceDetector = new FaceDetector({\n        maxDetectedFaces: 1,\n        fastMode: true\n      })\n      \n      console.log('✅ ブラウザネイティブ顔検出初期化完了')\n      isInitialized.value = true\n      \n    } catch (err) {\n      console.error('❌ ネイティブ顔検出初期化エラー:', err)\n      await initializeFallbackDetection()\n    }\n  }\n  \n  /**\n   * フォールバック: OpenCVベース顔検出\n   */\n  const initializeFallbackDetection = async () => {\n    console.log('🔄 フォールバック顔検出システム初期化中...')\n    \n    try {\n      // シンプルな顔領域推定システム\n      await initializeSimpleFaceDetection()\n      \n      console.log('✅ フォールバック顔検出初期化完了')\n      isInitialized.value = true\n      \n    } catch (err) {\n      console.error('❌ フォールバック初期化失敗:', err)\n      error.value = '顔検出システムの初期化に失敗しました'\n    }\n  }\n  \n  /**\n   * 超シンプル顔検出（色ベース）\n   */\n  const initializeSimpleFaceDetection = async () => {\n    console.log('🎯 シンプル顔検出システム初期化')\n    \n    // 肌色ベース顔領域推定システム\n    // HSV色空間で肌色範囲を検出\n    isInitialized.value = true\n  }\n  \n  /**\n   * カメラストリーム開始\n   */\n  const startCamera = async (constraints = {}) => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          width: { ideal: 640, max: 1280 },\n          height: { ideal: 480, max: 720 },\n          frameRate: { ideal: 30 },\n          facingMode: 'user',\n          ...constraints\n        }\n      })\n      \n      if (videoElement.value) {\n        videoElement.value.srcObject = stream\n        await videoElement.value.play()\n        \n        console.log('📹 カメラストリーム開始:', {\n          width: videoElement.value.videoWidth,\n          height: videoElement.value.videoHeight\n        })\n      }\n      \n      return stream\n    } catch (err) {\n      console.error('❌ カメラアクセスエラー:', err)\n      error.value = `カメラアクセス失敗: ${err.message}`\n      throw err\n    }\n  }\n  \n  /**\n   * 視線追跡開始\n   */\n  const startTracking = async (videoEl, canvasEl) => {\n    try {\n      videoElement.value = videoEl\n      canvasElement.value = canvasEl\n      \n      if (canvasEl) {\n        canvasCtx.value = canvasEl.getContext('2d')\n      }\n      \n      if (!isInitialized.value) {\n        await initializeFaceDetection()\n      }\n      \n      await startCamera()\n      \n      // フレーム処理開始\n      startFrameProcessing()\n      \n      isTracking.value = true\n      console.log('✅ シンプル視線追跡開始')\n      \n    } catch (err) {\n      console.error('❌ 追跡開始エラー:', err)\n      error.value = `追跡開始失敗: ${err.message}`\n    }\n  }\n  \n  /**\n   * フレーム処理ループ\n   */\n  const startFrameProcessing = () => {\n    const processFrame = async (timestamp) => {\n      if (!isTracking.value) return\n      \n      // FPS制御\n      if (timestamp - lastFrameTime < 1000 / settings.targetFPS) {\n        animationFrame = requestAnimationFrame(processFrame)\n        return\n      }\n      \n      lastFrameTime = timestamp\n      \n      try {\n        await detectFace()\n        updateStats()\n      } catch (err) {\n        console.error('フレーム処理エラー:', err)\n      }\n      \n      animationFrame = requestAnimationFrame(processFrame)\n    }\n    \n    animationFrame = requestAnimationFrame(processFrame)\n  }\n  \n  /**\n   * 顔検出実行\n   */\n  const detectFace = async () => {\n    if (!videoElement.value || !canvasElement.value) return\n    \n    const video = videoElement.value\n    const canvas = canvasElement.value\n    const ctx = canvasCtx.value\n    \n    // ビデオフレームをキャンバスに描画\n    canvas.width = video.videoWidth\n    canvas.height = video.videoHeight\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height)\n    \n    if (faceDetector) {\n      // ブラウザネイティブ顔検出\n      try {\n        const faces = await faceDetector.detect(canvas)\n        processFaceDetectionResults(faces)\n      } catch (err) {\n        // フォールバック検出\n        processSimpleFaceDetection(ctx, canvas)\n      }\n    } else {\n      // シンプル顔検出\n      processSimpleFaceDetection(ctx, canvas)\n    }\n  }\n  \n  /**\n   * 顔検出結果処理\n   */\n  const processFaceDetectionResults = (faces) => {\n    if (faces && faces.length > 0) {\n      const face = faces[0]\n      \n      faceDetected.value = true\n      \n      // 顔の位置・サイズ更新\n      const bbox = face.boundingBox\n      faceData.x = bbox.x + bbox.width / 2\n      faceData.y = bbox.y + bbox.height / 2\n      faceData.width = bbox.width\n      faceData.height = bbox.height\n      faceData.confidence = face.confidence || 0.8\n      \n      // 簡易頭部姿勢推定\n      calculateSimpleHeadPose(bbox)\n      \n      // デバッグ描画\n      if (settings.debugMode) {\n        drawFaceDebug(bbox)\n      }\n      \n    } else {\n      faceDetected.value = false\n      resetFaceData()\n    }\n  }\n  \n  /**\n   * シンプル顔検出（色ベース）\n   */\n  const processSimpleFaceDetection = (ctx, canvas) => {\n    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n    const data = imageData.data\n    \n    let skinPixelCount = 0\n    let totalPixels = 0\n    let centroidX = 0\n    let centroidY = 0\n    \n    // 肌色検出（簡易版）\n    for (let i = 0; i < data.length; i += 4) {\n      const r = data[i]\n      const g = data[i + 1]\n      const b = data[i + 2]\n      \n      // 肌色判定（簡易HSV範囲）\n      if (isSkinColor(r, g, b)) {\n        const pixelIndex = i / 4\n        const x = pixelIndex % canvas.width\n        const y = Math.floor(pixelIndex / canvas.width)\n        \n        centroidX += x\n        centroidY += y\n        skinPixelCount++\n      }\n      totalPixels++\n    }\n    \n    // 顔中心推定\n    if (skinPixelCount > totalPixels * 0.05) { // 5%以上が肌色\n      faceDetected.value = true\n      \n      faceData.x = centroidX / skinPixelCount\n      faceData.y = centroidY / skinPixelCount\n      faceData.width = Math.sqrt(skinPixelCount) * 2\n      faceData.height = Math.sqrt(skinPixelCount) * 2.5\n      faceData.confidence = Math.min(skinPixelCount / (totalPixels * 0.1), 1)\n      \n      // 簡易頭部姿勢推定\n      calculateSimpleHeadPose({\n        x: faceData.x - faceData.width / 2,\n        y: faceData.y - faceData.height / 2,\n        width: faceData.width,\n        height: faceData.height\n      })\n      \n    } else {\n      faceDetected.value = false\n      resetFaceData()\n    }\n  }\n  \n  /**\n   * 肌色判定（簡易版）\n   */\n  const isSkinColor = (r, g, b) => {\n    // 簡易肌色判定（RGB範囲）\n    return (\n      r > 95 && g > 40 && b > 20 &&\n      r > g && r > b &&\n      Math.abs(r - g) > 15 &&\n      r - b > 15\n    )\n  }\n  \n  /**\n   * 簡易頭部姿勢推定\n   */\n  const calculateSimpleHeadPose = (bbox) => {\n    const canvas = canvasElement.value\n    if (!canvas) return\n    \n    const faceCenterX = bbox.x + bbox.width / 2\n    const faceCenterY = bbox.y + bbox.height / 2\n    \n    const screenCenterX = canvas.width / 2\n    const screenCenterY = canvas.height / 2\n    \n    // 正規化座標 (-1 to 1)\n    const normalizedX = (faceCenterX - screenCenterX) / screenCenterX\n    const normalizedY = (faceCenterY - screenCenterY) / screenCenterY\n    \n    // 頭部姿勢に変換（度単位）\n    faceData.headPose.yaw = normalizedX * 30  // -30° to +30°\n    faceData.headPose.pitch = normalizedY * 20 // -20° to +20°\n    faceData.headPose.roll = 0 // 簡略化\n    \n    // スムージング適用\n    applySmoothing()\n  }\n  \n  /**\n   * スムージング適用\n   */\n  let previousPose = { yaw: 0, pitch: 0, roll: 0 }\n  \n  const applySmoothing = () => {\n    const factor = settings.smoothingFactor\n    \n    faceData.headPose.yaw = lerp(previousPose.yaw, faceData.headPose.yaw, factor)\n    faceData.headPose.pitch = lerp(previousPose.pitch, faceData.headPose.pitch, factor)\n    faceData.headPose.roll = lerp(previousPose.roll, faceData.headPose.roll, factor)\n    \n    previousPose = { ...faceData.headPose }\n  }\n  \n  /**\n   * 線形補間\n   */\n  const lerp = (a, b, t) => a + (b - a) * t\n  \n  /**\n   * デバッグ描画\n   */\n  const drawFaceDebug = (bbox) => {\n    const ctx = canvasCtx.value\n    if (!ctx) return\n    \n    // 顔のバウンディングボックス\n    ctx.strokeStyle = '#00ff00'\n    ctx.lineWidth = 2\n    ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height)\n    \n    // 中心点\n    ctx.fillStyle = '#ff0000'\n    ctx.beginPath()\n    ctx.arc(faceData.x, faceData.y, 5, 0, 2 * Math.PI)\n    ctx.fill()\n    \n    // 信頼度表示\n    ctx.fillStyle = '#00ff00'\n    ctx.font = '16px Arial'\n    ctx.fillText(`信頼度: ${Math.round(faceData.confidence * 100)}%`, 10, 30)\n    ctx.fillText(`FPS: ${stats.fps}`, 10, 50)\n    \n    // 頭部姿勢表示\n    ctx.fillText(`Yaw: ${Math.round(faceData.headPose.yaw)}°`, 10, 70)\n    ctx.fillText(`Pitch: ${Math.round(faceData.headPose.pitch)}°`, 10, 90)\n  }\n  \n  /**\n   * フェイスデータリセット\n   */\n  const resetFaceData = () => {\n    faceData.x = 0\n    faceData.y = 0\n    faceData.width = 0\n    faceData.height = 0\n    faceData.confidence = 0\n    faceData.headPose = { yaw: 0, pitch: 0, roll: 0 }\n  }\n  \n  /**\n   * 統計更新\n   */\n  const updateStats = () => {\n    stats.frameCount++\n    const now = Date.now()\n    \n    if (now - stats.lastUpdate >= 1000) {\n      stats.fps = Math.round(stats.frameCount * 1000 / (now - stats.lastUpdate))\n      stats.frameCount = 0\n      stats.lastUpdate = now\n    }\n  }\n  \n  /**\n   * 追跡停止\n   */\n  const stopTracking = () => {\n    isTracking.value = false\n    \n    if (animationFrame) {\n      cancelAnimationFrame(animationFrame)\n      animationFrame = null\n    }\n    \n    if (videoElement.value && videoElement.value.srcObject) {\n      const tracks = videoElement.value.srcObject.getTracks()\n      tracks.forEach(track => track.stop())\n      videoElement.value.srcObject = null\n    }\n    \n    resetFaceData()\n    console.log('⏹️ シンプル視線追跡停止')\n  }\n  \n  // クリーンアップ\n  onUnmounted(() => {\n    stopTracking()\n  })\n  \n  return {\n    // 状態\n    isInitialized,\n    isTracking,\n    faceDetected,\n    error,\n    faceData,\n    settings,\n    stats,\n    \n    // メソッド\n    initializeFaceDetection,\n    startTracking,\n    stopTracking,\n    startCamera\n  }\n}","import { ref, reactive, computed, watch } from 'vue'\n\n/**\n * 9ゾーンベースAAC入力システム\n * 顔の向きに基づく確実な選択システム - WebGazer.jsの完全代替\n */\nexport function useZoneBasedAAC(faceTracker) {\n  // 状態管理\n  const currentZone = ref(null)\n  const isSelecting = ref(false)\n  const selectedZone = ref(null)\n  const dwellProgress = ref(0)\n  \n  // 9ゾーン設定\n  const zoneConfig = reactive({\n    gridSize: 3,           // 3x3グリッド\n    dwellTime: 1500,       // ドウェル時間（ms）\n    confidenceThreshold: 0.7,  // 検出信頼度閾値\n    stabilityThreshold: 300,   // 安定性判定時間（ms）\n    smoothing: true,       // スムージング有効\n    visualFeedback: true   // 視覚フィードバック有効\n  })\n  \n  // ゾーン定義（3x3グリッド）\n  const zones = computed(() => {\n    const cols = zoneConfig.gridSize\n    const rows = zoneConfig.gridSize\n    const zoneWidth = 100 / cols\n    const zoneHeight = 100 / rows\n    \n    const zoneList = []\n    \n    for (let row = 0; row < rows; row++) {\n      for (let col = 0; col < cols; col++) {\n        const zoneId = row * cols + col\n        const zoneName = getZoneName(row, col)\n        \n        zoneList.push({\n          id: zoneId,\n          name: zoneName,\n          row,\n          col,\n          x: col * zoneWidth,      // X位置（%）\n          y: row * zoneHeight,     // Y位置（%）\n          width: zoneWidth,        // 幅（%）\n          height: zoneHeight,      // 高さ（%）\n          centerX: col * zoneWidth + zoneWidth / 2,   // 中心X（%）\n          centerY: row * zoneHeight + zoneHeight / 2, // 中心Y（%）\n          active: false,           // アクティブ状態\n          hovered: false,          // ホバー状態\n          dwellStart: null         // ドウェル開始時刻\n        })\n      }\n    }\n    \n    return zoneList\n  })\n  \n  /**\n   * ゾーン名を取得\n   */\n  const getZoneName = (row, col) => {\n    const rowNames = ['上', '中', '下']\n    const colNames = ['左', '中央', '右']\n    \n    if (row === 1 && col === 1) {\n      return '中央'\n    }\n    \n    return `${rowNames[row]}${colNames[col]}`\n  }\n  \n  // 選択履歴\n  const selectionHistory = reactive([])\n  \n  // パフォーマンス統計\n  const stats = reactive({\n    totalSelections: 0,\n    avgSelectionTime: 0,\n    accuracyRate: 0,\n    zoneHitCounts: {}\n  })\n  \n  /**\n   * 顔の向きからゾーンを推定\n   */\n  const detectTargetZone = () => {\n    if (!faceTracker || !faceTracker.faceDetected.value) {\n      return null\n    }\n    \n    const faceData = faceTracker.faceData\n    \n    // 信頼度チェック\n    if (faceData.confidence < zoneConfig.confidenceThreshold) {\n      return null\n    }\n    \n    // 頭部姿勢から画面ゾーンをマッピング\n    const { yaw, pitch } = faceData.headPose\n    \n    // Yaw（左右）→ 列マッピング\n    let targetCol = 1 // デフォルト中央\n    if (yaw < -15) {\n      targetCol = 2 // 右を見る → 右列\n    } else if (yaw > 15) {\n      targetCol = 0 // 左を見る → 左列\n    }\n    \n    // Pitch（上下）→ 行マッピング\n    let targetRow = 1 // デフォルト中央\n    if (pitch < -10) {\n      targetRow = 0 // 上を見る → 上行\n    } else if (pitch > 10) {\n      targetRow = 2 // 下を見る → 下行\n    }\n    \n    // ゾーンIDを計算\n    const zoneId = targetRow * zoneConfig.gridSize + targetCol\n    \n    return zones.value.find(zone => zone.id === zoneId)\n  }\n  \n  /**\n   * ゾーン選択処理のメインループ\n   */\n  const processZoneSelection = () => {\n    const targetZone = detectTargetZone()\n    \n    // ゾーン変更検出\n    if (targetZone?.id !== currentZone.value?.id) {\n      resetDwellSelection()\n      currentZone.value = targetZone\n      \n      if (targetZone) {\n        startDwellTimer(targetZone)\n      }\n    }\n    \n    // ドウェル進行処理\n    if (currentZone.value && isSelecting.value) {\n      updateDwellProgress()\n    }\n  }\n  \n  /**\n   * ドウェルタイマー開始\n   */\n  const startDwellTimer = (zone) => {\n    if (!zone) return\n    \n    isSelecting.value = true\n    zone.dwellStart = Date.now()\n    zone.hovered = true\n    \n    // 他のゾーンのホバー状態をクリア\n    zones.value.forEach(z => {\n      if (z.id !== zone.id) {\n        z.hovered = false\n        z.dwellStart = null\n      }\n    })\n    \n    console.log(`🎯 ゾーン選択開始: ${zone.name}`)\n  }\n  \n  /**\n   * ドウェル進行状況更新\n   */\n  const updateDwellProgress = () => {\n    if (!currentZone.value || !currentZone.value.dwellStart) {\n      return\n    }\n    \n    const elapsed = Date.now() - currentZone.value.dwellStart\n    const progress = Math.min(elapsed / zoneConfig.dwellTime, 1)\n    \n    dwellProgress.value = progress\n    \n    // 選択完了判定\n    if (progress >= 1) {\n      completeZoneSelection(currentZone.value)\n    }\n  }\n  \n  /**\n   * ゾーン選択完了\n   */\n  const completeZoneSelection = (zone) => {\n    if (!zone) return\n    \n    selectedZone.value = zone\n    zone.active = true\n    \n    // 選択履歴に追加\n    selectionHistory.push({\n      zoneId: zone.id,\n      zoneName: zone.name,\n      timestamp: Date.now(),\n      dwellTime: Date.now() - zone.dwellStart\n    })\n    \n    // 統計更新\n    updateStats(zone)\n    \n    console.log(`✅ ゾーン選択完了: ${zone.name}`)\n    \n    // フィードバック\n    provideFeedback(zone)\n    \n    // 選択状態リセット\n    setTimeout(() => {\n      resetSelection()\n    }, 500)\n  }\n  \n  /**\n   * 選択フィードバック提供\n   */\n  const provideFeedback = (zone) => {\n    // 視覚フィードバック\n    if (zoneConfig.visualFeedback) {\n      zone.active = true\n      setTimeout(() => {\n        zone.active = false\n      }, 300)\n    }\n    \n    // 音声フィードバック（オプション）\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(zone.name)\n      utterance.lang = 'ja-JP'\n      utterance.rate = 1.2\n      utterance.volume = 0.5\n      speechSynthesis.speak(utterance)\n    }\n    \n    // 触覚フィードバック（可能な場合）\n    if ('vibrate' in navigator) {\n      navigator.vibrate(100)\n    }\n  }\n  \n  /**\n   * ドウェル選択リセット\n   */\n  const resetDwellSelection = () => {\n    isSelecting.value = false\n    dwellProgress.value = 0\n    \n    zones.value.forEach(zone => {\n      zone.hovered = false\n      zone.dwellStart = null\n    })\n  }\n  \n  /**\n   * 選択状態リセット\n   */\n  const resetSelection = () => {\n    selectedZone.value = null\n    resetDwellSelection()\n    \n    zones.value.forEach(zone => {\n      zone.active = false\n    })\n  }\n  \n  /**\n   * 統計情報更新\n   */\n  const updateStats = (zone) => {\n    stats.totalSelections++\n    \n    // ゾーン別ヒット数\n    if (!stats.zoneHitCounts[zone.id]) {\n      stats.zoneHitCounts[zone.id] = 0\n    }\n    stats.zoneHitCounts[zone.id]++\n    \n    // 平均選択時間\n    const dwellTime = Date.now() - zone.dwellStart\n    stats.avgSelectionTime = ((stats.avgSelectionTime * (stats.totalSelections - 1)) + dwellTime) / stats.totalSelections\n  }\n  \n  /**\n   * 設定更新\n   */\n  const updateConfig = (newConfig) => {\n    Object.assign(zoneConfig, newConfig)\n    console.log('⚙️ ゾーン設定更新:', zoneConfig)\n  }\n  \n  /**\n   * ゾーンをIDで取得\n   */\n  const getZoneById = (zoneId) => {\n    return zones.value.find(zone => zone.id === zoneId)\n  }\n  \n  /**\n   * ゾーンを座標で取得\n   */\n  const getZoneByCoordinates = (x, y) => {\n    return zones.value.find(zone => {\n      return x >= zone.x && x < zone.x + zone.width &&\n             y >= zone.y && y < zone.y + zone.height\n    })\n  }\n  \n  /**\n   * デバッグ情報取得\n   */\n  const getDebugInfo = () => {\n    return {\n      currentZone: currentZone.value,\n      isSelecting: isSelecting.value,\n      dwellProgress: dwellProgress.value,\n      faceData: faceTracker?.faceData,\n      zones: zones.value,\n      stats: stats,\n      history: selectionHistory.slice(-10) // 最新10件\n    }\n  }\n  \n  // ウォッチャー\n  watch(() => faceTracker?.faceDetected.value, (detected) => {\n    if (!detected) {\n      resetDwellSelection()\n    }\n  })\n  \n  return {\n    // 状態\n    currentZone,\n    isSelecting,\n    selectedZone,\n    dwellProgress,\n    zones,\n    zoneConfig,\n    selectionHistory,\n    stats,\n    \n    // メソッド\n    processZoneSelection,\n    resetSelection,\n    updateConfig,\n    getZoneById,\n    getZoneByCoordinates,\n    getDebugInfo,\n    \n    // 内部メソッド（デバッグ用）\n    detectTargetZone,\n    startDwellTimer,\n    completeZoneSelection\n  }\n}","<template>\n  <div class=\"eye-gaze-aac-app\">\n    <!-- ヘッダー -->\n    <header class=\"app-header\">\n      <h1>👁️ 視線入力AAC - シンプル確実版</h1>\n      <div class=\"status-bar\">\n        <div class=\"status-indicator\" :class=\"statusClass\">\n          {{ statusText }}\n        </div>\n        <div class=\"face-info\" v-if=\"faceTracker.faceDetected.value\">\n          信頼度: {{ Math.round(faceTracker.faceData.confidence * 100) }}% | \n          FPS: {{ faceTracker.stats.fps }}\n        </div>\n      </div>\n    </header>\n\n    <!-- メインエリア -->\n    <main class=\"app-main\">\n      <!-- 左パネル: カメラ・設定 -->\n      <aside class=\"control-panel\">\n        <div class=\"section\">\n          <h3>📹 カメラ設定</h3>\n          <select v-model=\"selectedCamera\" @change=\"handleCameraChange\" :disabled=\"faceTracker.isTracking.value\">\n            <option value=\"\">カメラを選択...</option>\n            <option v-for=\"camera in cameras\" :key=\"camera.deviceId\" :value=\"camera\">\n              {{ camera.label }}\n            </option>\n          </select>\n          <button @click=\"toggleTracking\" :disabled=\"!selectedCamera\" class=\"primary-btn\">\n            {{ faceTracker.isTracking.value ? '⏹️ 停止' : '▶️ 開始' }}\n          </button>\n        </div>\n\n        <div class=\"section\" v-if=\"faceTracker.isTracking.value\">\n          <h3>⚙️ 視線設定</h3>\n          <label>\n            ドウェル時間: {{ zoneAAC.zoneConfig.dwellTime }}ms\n            <input \n              type=\"range\" \n              min=\"800\" \n              max=\"3000\" \n              step=\"100\"\n              v-model=\"zoneAAC.zoneConfig.dwellTime\"\n            >\n          </label>\n          <label>\n            感度: {{ Math.round(faceTracker.settings.smoothingFactor * 100) }}%\n            <input \n              type=\"range\" \n              min=\"0.3\" \n              max=\"0.9\" \n              step=\"0.1\"\n              v-model=\"faceTracker.settings.smoothingFactor\"\n            >\n          </label>\n          <label>\n            <input type=\"checkbox\" v-model=\"showGazePoint\">\n            視線ポイント表示\n          </label>\n        </div>\n\n        <div class=\"section\" v-if=\"faceTracker.faceDetected.value\">\n          <h3>🎯 頭部姿勢</h3>\n          <div class=\"pose-display\">\n            <div class=\"pose-item\">\n              <strong>左右:</strong> {{ Math.round(faceTracker.faceData.headPose.yaw) }}°\n            </div>\n            <div class=\"pose-item\">\n              <strong>上下:</strong> {{ Math.round(faceTracker.faceData.headPose.pitch) }}°\n            </div>\n            <div class=\"pose-visual\">\n              <div \n                class=\"head-indicator\"\n                :style=\"{\n                  transform: `translate(${faceTracker.faceData.headPose.yaw * 2}px, ${faceTracker.faceData.headPose.pitch * 2}px)`\n                }\"\n              ></div>\n            </div>\n          </div>\n        </div>\n      </aside>\n\n      <!-- 中央パネル: 視線ゾーンインターフェース -->\n      <section class=\"gaze-interface\">\n        <!-- 視線ポイント表示 -->\n        <div \n          v-if=\"showGazePoint && gazePoint\"\n          class=\"gaze-point\"\n          :style=\"{\n            left: `${gazePoint.x}px`,\n            top: `${gazePoint.y}px`\n          }\"\n        ></div>\n\n        <!-- 9ゾーングリッド -->\n        <div class=\"zone-grid\">\n          <div \n            v-for=\"zone in zoneAAC.zones.value\"\n            :key=\"zone.id\"\n            class=\"zone-cell\"\n            :class=\"{\n              'zone-gazing': zone.id === zoneAAC.currentZone.value?.id,\n              'zone-dwelling': zone.hovered,\n              'zone-selected': zone.id === zoneAAC.selectedZone.value?.id\n            }\"\n            :style=\"{\n              left: `${zone.x}%`,\n              top: `${zone.y}%`,\n              width: `${zone.width}%`,\n              height: `${zone.height}%`\n            }\"\n          >\n            <div class=\"zone-content\">\n              <div class=\"zone-name\">{{ zone.name }}</div>\n              <div class=\"zone-number\">{{ zone.id + 1 }}</div>\n              \n              <!-- ドウェル進行円 -->\n              <div \n                v-if=\"zone.hovered && zoneAAC.dwellProgress.value > 0\"\n                class=\"dwell-circle\"\n              >\n                <svg width=\"60\" height=\"60\" class=\"progress-ring\">\n                  <circle\n                    cx=\"30\"\n                    cy=\"30\"\n                    r=\"25\"\n                    stroke=\"#f39c12\"\n                    stroke-width=\"4\"\n                    fill=\"none\"\n                    :stroke-dasharray=\"157\"\n                    :stroke-dashoffset=\"157 - (157 * zoneAAC.dwellProgress.value / 100)\"\n                    class=\"progress-circle\"\n                  />\n                </svg>\n                <div class=\"progress-text\">{{ Math.round(zoneAAC.dwellProgress.value) }}%</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 選択結果表示 -->\n        <div class=\"selection-display\" v-if=\"zoneAAC.selectedZone.value !== null\">\n          <h2>✅ 選択されたゾーン</h2>\n          <div class=\"selected-info\">\n            <div class=\"zone-name-large\">{{ zoneAAC.selectedZone.value.name }}</div>\n            <div class=\"selection-time\">{{ selectionTime }}</div>\n            <button @click=\"zoneAAC.resetSelection()\" class=\"clear-btn\">\n              🗑️ クリア\n            </button>\n          </div>\n        </div>\n\n        <!-- 使用説明 -->\n        <div class=\"usage-guide\" v-if=\"!faceTracker.isTracking.value\">\n          <h3>💡 視線入力の使い方</h3>\n          <ol>\n            <li>📹 上のパネルでカメラを選択</li>\n            <li>▶️ 「開始」ボタンをクリック</li>\n            <li>👁️ 選択したいゾーンを見つめる</li>\n            <li>⏰ {{ Math.round(zoneAAC.zoneConfig.dwellTime / 1000 * 10) / 10 }}秒間見続けると選択</li>\n          </ol>\n        </div>\n      </section>\n\n      <!-- 右パネル: 履歴・統計 -->\n      <aside class=\"history-panel\">\n        <div class=\"section\">\n          <h3>📊 選択履歴</h3>\n          <div class=\"history-list\">\n            <div \n              v-for=\"(item, index) in zoneAAC.selectionHistory.slice(-8)\" \n              :key=\"index\"\n              class=\"history-item\"\n            >\n              <div class=\"history-zone\">{{ item.zoneName }}</div>\n              <div class=\"history-time\">{{ formatTime(item.timestamp) }}</div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"section\">\n          <h3>📈 統計情報</h3>\n          <div class=\"stats-grid\">\n            <div class=\"stat-item\">\n              <div class=\"stat-value\">{{ zoneAAC.stats.totalSelections }}</div>\n              <div class=\"stat-label\">総選択数</div>\n            </div>\n            <div class=\"stat-item\">\n              <div class=\"stat-value\">{{ Math.round(zoneAAC.stats.avgSelectionTime) }}ms</div>\n              <div class=\"stat-label\">平均時間</div>\n            </div>\n            <div class=\"stat-item\">\n              <div class=\"stat-value\">{{ currentAccuracy }}%</div>\n              <div class=\"stat-label\">精度</div>\n            </div>\n          </div>\n        </div>\n      </aside>\n    </main>\n\n    <!-- カメラビュー -->\n    <div class=\"camera-view\" :class=\"{ 'camera-minimized': !showCamera }\">\n      <video \n        ref=\"videoElement\" \n        autoplay \n        muted \n        playsinline\n        class=\"camera-video\"\n      ></video>\n      <canvas \n        ref=\"canvasElement\" \n        class=\"camera-canvas\"\n        width=\"640\" \n        height=\"480\"\n      ></canvas>\n      \n      <div class=\"camera-controls\">\n        <button @click=\"showCamera = !showCamera\" class=\"icon-btn\">\n          {{ showCamera ? '🙈' : '👁️' }}\n        </button>\n        <button @click=\"faceTracker.settings.debugMode = !faceTracker.settings.debugMode\" class=\"icon-btn\">\n          🔧\n        </button>\n      </div>\n    </div>\n\n    <!-- エラー表示 -->\n    <div v-if=\"error\" class=\"error-overlay\">\n      <div class=\"error-content\">\n        <h3>⚠️ エラーが発生しました</h3>\n        <p>{{ error }}</p>\n        <div class=\"error-actions\">\n          <button @click=\"clearError\" class=\"btn secondary\">閉じる</button>\n          <button @click=\"retryInitialization\" class=\"btn primary\">再試行</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, onMounted, onUnmounted, nextTick, watch } from 'vue'\nimport { useSimpleFaceTracker } from './composables/useSimpleFaceTracker.js'\nimport { useZoneBasedAAC } from './composables/useZoneBasedAAC.js'\n\n// Face Tracker (シンプル版)\nconst faceTracker = useSimpleFaceTracker()\n\n// Zone-based AAC System\nconst zoneAAC = useZoneBasedAAC(faceTracker)\n\n// UI状態\nconst showCamera = ref(true)\nconst showGazePoint = ref(true)\nconst error = ref(null)\n\n// カメラ管理\nconst cameras = ref([])\nconst selectedCamera = ref(null)\nconst videoElement = ref(null)\nconst canvasElement = ref(null)\n\n// 視線ポイント計算\nconst gazePoint = computed(() => {\n  if (!faceTracker.faceDetected.value) return null\n  \n  const headPose = faceTracker.faceData.headPose\n  \n  // 頭部姿勢から画面座標を計算\n  const screenWidth = window.innerWidth\n  const screenHeight = window.innerHeight\n  \n  // 視線方向の推定（頭部姿勢の逆方向）\n  const gazeX = screenWidth / 2 - (headPose.yaw * 8)  // 感度調整\n  const gazeY = screenHeight / 2 - (headPose.pitch * 6)\n  \n  return {\n    x: Math.max(10, Math.min(screenWidth - 10, gazeX)),\n    y: Math.max(10, Math.min(screenHeight - 10, gazeY))\n  }\n})\n\n// 視線ポイントはデバッグ表示のみに使用\n// 実際のゾーン検出は頭部姿勢ベースで行う\n\n// ステータス表示\nconst statusClass = computed(() => {\n  if (error.value) return 'status-error'\n  if (!faceTracker.isInitialized.value) return 'status-initializing'\n  if (!faceTracker.isTracking.value) return 'status-ready'\n  if (!faceTracker.faceDetected.value) return 'status-no-face'\n  return 'status-tracking'\n})\n\nconst statusText = computed(() => {\n  if (error.value) return 'エラー'\n  if (!faceTracker.isInitialized.value) return '初期化中...'\n  if (!faceTracker.isTracking.value) return '準備完了'\n  if (!faceTracker.faceDetected.value) return '顔を検出中...'\n  return '視線追跡中'\n})\n\nconst selectionTime = computed(() => {\n  if (zoneAAC.selectionHistory.length > 0) {\n    const last = zoneAAC.selectionHistory[zoneAAC.selectionHistory.length - 1]\n    return new Date(last.timestamp).toLocaleTimeString()\n  }\n  return ''\n})\n\nconst currentAccuracy = computed(() => {\n  // 簡易精度計算\n  if (zoneAAC.stats.totalSelections === 0) return 0\n  return Math.round((zoneAAC.stats.totalSelections / (zoneAAC.stats.totalSelections + 1)) * 100)\n})\n\n// メインループ\nlet gazeProcessingLoop = null\n\n/**\n * カメラ一覧取得\n */\nconst getCameras = async () => {\n  try {\n    await navigator.mediaDevices.getUserMedia({ video: true })\n    const devices = await navigator.mediaDevices.enumerateDevices()\n    const videoDevices = devices.filter(device => device.kind === 'videoinput')\n    \n    cameras.value = videoDevices.map(device => ({\n      deviceId: device.deviceId,\n      label: device.label || `カメラ ${cameras.value.length + 1}`,\n      groupId: device.groupId\n    }))\n    \n    // デフォルトカメラ選択\n    if (cameras.value.length > 0 && !selectedCamera.value) {\n      selectedCamera.value = cameras.value[0]\n    }\n    \n    console.log('📹 利用可能なカメラ:', cameras.value)\n  } catch (err) {\n    error.value = `カメラアクセスエラー: ${err.message}`\n  }\n}\n\n/**\n * カメラ変更ハンドラー\n */\nconst handleCameraChange = async () => {\n  if (faceTracker.isTracking.value) {\n    await stopTracking()\n  }\n  \n  if (selectedCamera.value) {\n    console.log('📹 カメラ変更:', selectedCamera.value.label)\n  }\n}\n\n/**\n * 追跡開始/停止切り替え\n */\nconst toggleTracking = async () => {\n  if (faceTracker.isTracking.value) {\n    await stopTracking()\n  } else {\n    await startTracking()\n  }\n}\n\n/**\n * 追跡開始\n */\nconst startTracking = async () => {\n  try {\n    if (!selectedCamera.value) {\n      error.value = 'カメラを選択してください'\n      return\n    }\n    \n    // Face Tracker開始\n    await faceTracker.startTracking(videoElement.value, canvasElement.value)\n    \n    // 視線処理ループ開始\n    startGazeProcessing()\n    \n    console.log('✅ 視線追跡開始')\n    \n  } catch (err) {\n    error.value = `追跡開始エラー: ${err.message}`\n  }\n}\n\n/**\n * 追跡停止\n */\nconst stopTracking = async () => {\n  faceTracker.stopTracking()\n  stopGazeProcessing()\n  zoneAAC.resetSelection()\n  \n  console.log('⏹️ 視線追跡停止')\n}\n\n/**\n * 視線処理ループ開始\n */\nconst startGazeProcessing = () => {\n  const processGaze = () => {\n    if (faceTracker.isTracking.value) {\n      // ゾーン選択処理を実行\n      zoneAAC.processZoneSelection()\n    }\n    \n    if (faceTracker.isTracking.value) {\n      gazeProcessingLoop = requestAnimationFrame(processGaze)\n    }\n  }\n  \n  gazeProcessingLoop = requestAnimationFrame(processGaze)\n}\n\n/**\n * 視線処理ループ停止\n */\nconst stopGazeProcessing = () => {\n  if (gazeProcessingLoop) {\n    cancelAnimationFrame(gazeProcessingLoop)\n    gazeProcessingLoop = null\n  }\n}\n\n/**\n * エラークリア\n */\nconst clearError = () => {\n  error.value = null\n}\n\n/**\n * 再初期化\n */\nconst retryInitialization = async () => {\n  clearError()\n  await faceTracker.initializeFaceDetection()\n}\n\n/**\n * 時刻フォーマット\n */\nconst formatTime = (timestamp) => {\n  return new Date(timestamp).toLocaleTimeString('ja-JP', {\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit'\n  })\n}\n\n// ウォッチャー: エラー監視\nwatch(() => faceTracker.error.value, (newError) => {\n  if (newError) {\n    error.value = newError\n  }\n})\n\n// 初期化\nonMounted(async () => {\n  console.log('🚀 視線入力AAC アプリケーション開始')\n  \n  await nextTick()\n  await getCameras()\n  \n  // Face Tracker初期化\n  try {\n    await faceTracker.initializeFaceDetection()\n  } catch (err) {\n    error.value = `初期化エラー: ${err.message}`\n  }\n})\n\n// クリーンアップ\nonUnmounted(() => {\n  stopTracking()\n})\n</script>\n\n<style scoped>\n.eye-gaze-aac-app {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  font-family: 'Hiragino Sans', 'Noto Sans JP', 'Yu Gothic UI', Arial, sans-serif;\n}\n\n.app-header {\n  padding: 1rem 2rem;\n  background: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(10px);\n}\n\n.app-header h1 {\n  margin: 0;\n  font-size: 1.8rem;\n  font-weight: bold;\n}\n\n.status-bar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 0.5rem;\n}\n\n.status-indicator {\n  padding: 0.5rem 1rem;\n  border-radius: 20px;\n  font-weight: bold;\n  text-transform: uppercase;\n  font-size: 0.9rem;\n}\n\n.status-initializing { background: #f39c12; }\n.status-ready { background: #27ae60; }\n.status-tracking { background: #3498db; }\n.status-no-face { background: #e67e22; }\n.status-error { background: #e74c3c; }\n\n.app-main {\n  display: grid;\n  grid-template-columns: 280px 1fr 250px;\n  gap: 1rem;\n  padding: 1rem;\n  min-height: calc(100vh - 120px);\n}\n\n.control-panel, .history-panel {\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 10px;\n  padding: 1rem;\n  height: fit-content;\n}\n\n.section {\n  margin-bottom: 1.5rem;\n}\n\n.section h3 {\n  margin: 0 0 1rem 0;\n  font-size: 1.1rem;\n  border-bottom: 2px solid rgba(255, 255, 255, 0.3);\n  padding-bottom: 0.5rem;\n}\n\n.primary-btn {\n  background: #3498db;\n  color: white;\n  border: none;\n  padding: 0.8rem 1.5rem;\n  border-radius: 8px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  width: 100%;\n  margin-top: 0.5rem;\n}\n\n.primary-btn:hover:not(:disabled) {\n  background: #2980b9;\n  transform: translateY(-2px);\n}\n\n.primary-btn:disabled {\n  background: #7f8c8d;\n  cursor: not-allowed;\n}\n\nselect {\n  width: 100%;\n  padding: 0.5rem;\n  border-radius: 5px;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  background: rgba(255, 255, 255, 0.1);\n  color: white;\n  margin-bottom: 0.5rem;\n}\n\nlabel {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-size: 0.9rem;\n}\n\ninput[type=\"range\"] {\n  width: 100%;\n  margin-top: 0.25rem;\n}\n\ninput[type=\"checkbox\"] {\n  margin-right: 0.5rem;\n}\n\n.pose-display {\n  background: rgba(255, 255, 255, 0.05);\n  padding: 1rem;\n  border-radius: 8px;\n}\n\n.pose-item {\n  margin-bottom: 0.5rem;\n  font-family: monospace;\n}\n\n.pose-visual {\n  position: relative;\n  width: 60px;\n  height: 60px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  margin: 1rem auto;\n}\n\n.head-indicator {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 10px;\n  height: 10px;\n  background: #f39c12;\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n  transition: transform 0.1s ease;\n}\n\n.gaze-interface {\n  position: relative;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 15px;\n  padding: 2rem;\n  overflow: hidden;\n}\n\n.gaze-point {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  background: radial-gradient(circle, #00ffff 0%, #0080ff 70%, transparent 100%);\n  border-radius: 50%;\n  pointer-events: none;\n  z-index: 100;\n  transform: translate(-50%, -50%);\n  animation: pulse-gaze 1s ease-in-out infinite;\n}\n\n@keyframes pulse-gaze {\n  0% { transform: translate(-50%, -50%) scale(1); opacity: 0.8; }\n  50% { transform: translate(-50%, -50%) scale(1.3); opacity: 1; }\n  100% { transform: translate(-50%, -50%) scale(1); opacity: 0.8; }\n}\n\n.zone-grid {\n  position: relative;\n  width: 100%;\n  height: 450px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 10px;\n  margin-bottom: 2rem;\n}\n\n.zone-cell {\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  background: rgba(255, 255, 255, 0.05);\n  backdrop-filter: blur(5px);\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.zone-cell.zone-gazing {\n  background: rgba(52, 152, 219, 0.2);\n  border-color: #3498db;\n  border-width: 2px;\n}\n\n.zone-cell.zone-dwelling {\n  background: rgba(241, 196, 15, 0.3);\n  border-color: #f1c40f;\n  border-width: 3px;\n  transform: scale(1.05);\n  z-index: 10;\n}\n\n.zone-cell.zone-selected {\n  background: rgba(46, 204, 113, 0.5);\n  border-color: #2ecc71;\n  animation: selection-pulse 1s ease-in-out;\n}\n\n.zone-content {\n  text-align: center;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.zone-name {\n  font-size: 1.1rem;\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n}\n\n.zone-number {\n  font-size: 2rem;\n  opacity: 0.7;\n  font-weight: bold;\n}\n\n.dwell-circle {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.progress-ring {\n  transform: rotate(-90deg);\n}\n\n.progress-circle {\n  transition: stroke-dashoffset 0.1s ease;\n}\n\n.progress-text {\n  position: absolute;\n  font-size: 0.8rem;\n  font-weight: bold;\n  color: #f39c12;\n}\n\n.selection-display {\n  text-align: center;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 10px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n}\n\n.zone-name-large {\n  font-size: 2.5rem;\n  font-weight: bold;\n  color: #2ecc71;\n  margin-bottom: 1rem;\n}\n\n.selection-time {\n  font-size: 1.1rem;\n  opacity: 0.8;\n  margin-bottom: 1rem;\n}\n\n.clear-btn {\n  background: #e74c3c;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 5px;\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.clear-btn:hover {\n  background: #c0392b;\n}\n\n.usage-guide {\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 10px;\n  padding: 2rem;\n  text-align: center;\n}\n\n.usage-guide ol {\n  text-align: left;\n  max-width: 400px;\n  margin: 1rem auto;\n}\n\n.usage-guide li {\n  margin-bottom: 0.5rem;\n  font-size: 1.1rem;\n}\n\n.history-list {\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n.history-item {\n  background: rgba(255, 255, 255, 0.1);\n  padding: 0.5rem;\n  border-radius: 5px;\n  margin-bottom: 0.5rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.history-zone {\n  font-weight: bold;\n}\n\n.history-time {\n  font-size: 0.8rem;\n  opacity: 0.7;\n  font-family: monospace;\n}\n\n.stats-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n}\n\n.stat-item {\n  text-align: center;\n  background: rgba(255, 255, 255, 0.1);\n  padding: 1rem;\n  border-radius: 8px;\n}\n\n.stat-value {\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: #3498db;\n}\n\n.stat-label {\n  font-size: 0.8rem;\n  opacity: 0.8;\n  margin-top: 0.25rem;\n}\n\n.camera-view {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  width: 320px;\n  height: 240px;\n  background: rgba(0, 0, 0, 0.8);\n  border-radius: 10px;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  z-index: 1000;\n}\n\n.camera-minimized {\n  width: 60px;\n  height: 60px;\n}\n\n.camera-video {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.camera-canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n\n.camera-controls {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  display: flex;\n  gap: 5px;\n}\n\n.icon-btn {\n  background: rgba(0, 0, 0, 0.7);\n  border: none;\n  color: white;\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  cursor: pointer;\n  font-size: 1rem;\n}\n\n.error-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n}\n\n.error-content {\n  background: white;\n  color: #333;\n  padding: 2rem;\n  border-radius: 10px;\n  text-align: center;\n  max-width: 500px;\n  margin: 1rem;\n}\n\n.error-actions {\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 1rem;\n}\n\n.btn {\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.btn.primary {\n  background: #3498db;\n  color: white;\n}\n\n.btn.secondary {\n  background: #95a5a6;\n  color: white;\n}\n\n@keyframes selection-pulse {\n  0% { transform: scale(1.05); }\n  50% { transform: scale(1.15); }\n  100% { transform: scale(1.05); }\n}\n\n@media (max-width: 1200px) {\n  .app-main {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n  }\n  \n  .stats-grid {\n    grid-template-columns: 1fr;\n  }\n}\n</style>","import { createApp } from 'vue'\n// WebGazer.js版（旧）\n// import App from './App.vue'  \n// MediaPipe版（複雑 - 初期化に問題）\n// import App from './App-MediaPipe.vue'\n// シンプル版（マウス・キーボードのみ）\n// import App from './App-Simple.vue'\n// 視線入力版（新）- シンプル顔検出 + 視線ベースAAC\nimport App from './App-EyeGaze.vue'\nimport './assets/css/main.css'\n\n// エラーハンドリング追加\nwindow.addEventListener('error', (e) => {\n  console.error('🚨 Global Error:', e.error)\n  console.error('File:', e.filename, 'Line:', e.lineno)\n})\n\nwindow.addEventListener('unhandledrejection', (e) => {\n  console.error('🚨 Unhandled Promise Rejection:', e.reason)\n})\n\nconsole.log('🚀 Vue3 AAC アプリケーション開始')\nconsole.log('🌐 Environment:', {\n  production: import.meta.env.PROD,\n  base: import.meta.env.BASE_URL,\n  mode: import.meta.env.MODE\n})\n\ntry {\n  const app = createApp(App)\n  \n  // Vue エラーハンドラー\n  app.config.errorHandler = (err, vm, info) => {\n    console.error('🚨 Vue Error:', err)\n    console.error('Info:', info)\n    console.error('Component:', vm)\n  }\n  \n  console.log('📱 Vue アプリケーションマウント中...')\n  app.mount('#app')\n  console.log('✅ Vue アプリケーションマウント完了')\n  \n} catch (error) {\n  console.error('❌ Vue アプリケーション起動エラー:', error)\n  \n  // フォールバック画面を表示\n  document.getElementById('app').innerHTML = `\n    <div style=\"padding: 20px; text-align: center; font-family: Arial, sans-serif;\">\n      <h1>🚨 エラーが発生しました</h1>\n      <p>アプリケーションの読み込みに失敗しました。</p>\n      <p>コンソール（F12）でエラー詳細を確認してください。</p>\n      <button onclick=\"window.location.reload()\" style=\"padding: 10px 20px; margin: 10px; background: #e74c3c; color: white; border: none; border-radius: 5px;\">\n        再読み込み\n      </button>\n    </div>\n  `\n}"],"names":["useSimpleFaceTracker","isInitialized","ref","isTracking","faceDetected","error","faceData","reactive","videoElement","canvasElement","canvasCtx","settings","stats","faceDetector","animationFrame","lastFrameTime","initializeFaceDetection","initializeFallbackDetection","err","initializeSimpleFaceDetection","startCamera","constraints","stream","startTracking","videoEl","canvasEl","startFrameProcessing","processFrame","timestamp","detectFace","updateStats","video","canvas","ctx","faces","processFaceDetectionResults","processSimpleFaceDetection","face","bbox","calculateSimpleHeadPose","drawFaceDebug","resetFaceData","data","skinPixelCount","totalPixels","centroidX","centroidY","i","r","g","b","isSkinColor","pixelIndex","x","y","faceCenterX","faceCenterY","screenCenterX","screenCenterY","normalizedX","normalizedY","applySmoothing","previousPose","factor","lerp","a","t","now","stopTracking","track","onUnmounted","useZoneBasedAAC","faceTracker","currentZone","isSelecting","selectedZone","dwellProgress","zoneConfig","zones","computed","cols","rows","zoneWidth","zoneHeight","zoneList","row","col","zoneId","zoneName","getZoneName","rowNames","colNames","selectionHistory","detectTargetZone","yaw","pitch","targetCol","targetRow","zone","processZoneSelection","targetZone","_a","resetDwellSelection","startDwellTimer","updateDwellProgress","z","elapsed","progress","completeZoneSelection","provideFeedback","resetSelection","utterance","dwellTime","updateConfig","newConfig","getZoneById","getZoneByCoordinates","getDebugInfo","watch","detected","zoneAAC","showCamera","showGazePoint","cameras","selectedCamera","gazePoint","headPose","screenWidth","screenHeight","gazeX","gazeY","statusClass","statusText","selectionTime","last","currentAccuracy","gazeProcessingLoop","getCameras","videoDevices","device","handleCameraChange","toggleTracking","startGazeProcessing","stopGazeProcessing","processGaze","clearError","retryInitialization","formatTime","newError","onMounted","nextTick","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_cache","_hoisted_3","_normalizeClass","_unref","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","$event","_Fragment","_renderList","camera","_toDisplayString","_hoisted_9","_hoisted_10","_hoisted_11","_createTextVNode","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_normalizeStyle","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","item","index","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","e","app","createApp","App","vm","info"],"mappings":"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"}